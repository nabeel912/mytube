<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="ui_events.js"></script>
    <script src="youtube_events.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Zain:wght@200;300;400;700;800;900&display=swap"
        rel="stylesheet">

    <style>
        body {
            font-size: 12px;
        }

        .rtl {
            direction: rtl;
            text-align: right;
        }

        img {
            width: 70%;
        }

        .zain-extrabold {
            font-family: "Zain", sans-serif;
            font-weight: 800;
            font-style: normal;
        }

        iframe {
            width: 100%;
            height: calc((100vw - 400px)/1.78);
            max-width: calc((100vh)*1.78);
        }
    </style>
</head>

<body>
    <div class="w3-bar w3-black" id="bar_categories">
        <button type="button" class="w3-bar-item w3-button w3-right" action="add_category">add category</button>
    </div>
    <div class="w3-row">
        <div class="w3-col" style="width: 400px;">
            <ul class="w3-ul w3-card-4" id="video_list">
            </ul>
            <button type="button" class="w3-button w3-light-gray" action="add_item">add item</button>
        </div>
        <div class="w3-rest">
            <!-- 1. The <iframe> (and video player) will replace this <div> tag. -->
            <div id="player"></div>
            
            <h3 class="zain-extrabold" id="txt_video_title"></h3>
            <div id="player2" style="display: none;"></div>
        </div>
    </div>

    <script>

chrome.storage.sync.set({ key: 'my value' }).then(() => {
    console.log("Value is set");
  });
  
  chrome.storage.sync.get(["key"]).then((result) => {
    console.log("Value is " + result.key);
  });



        var mem = {};
        var categories = [];
        var videos_times = {};
        var videos_times_str = localStorage.getItem("videos_times");
        if (videos_times_str) {
            videos_times = JSON.parse(localStorage.getItem("videos_times"));
        }


        var categories_str = localStorage.getItem("categories");
        if (categories_str) {
            categories = JSON.parse(categories_str);
        } else {
            categories = [
                {
                    title: 'general', list: [
                        { youtube_id: 'M7lc1UVf-VE', title: 'YouTube Developers Live: Embedded Web Player Customization' },
                        { youtube_id: 'QPTwsoa47do', title: 'كيف تحصل على وظيفة وتتطوّر مهنيًا | بودكاست فنجان' },
                        { youtube_id: '4aa61-zDiSo', title: 'الازدهار المالي: كيف يدير الأثرياء أموالهم ويضاعفون ثرواتهم بسرعة أكبر من 99٪ من الناس في العالم' },
                        { youtube_id: 'bclSDhAXQaw', title: 'Couch Co-op is Alive and Well: These Games Prove It!' },
                        { youtube_id: '1ATLKEKYAHw', title: '80 New Couch Co-op Games From 2023 You Need To Know!' },
                        { youtube_id: 'om7jdf4RI74', title: '25 Free Co-Op Games for Friends (That Are Worth Playing)' },
                    ],
                }, {
                    title: 'gaming', list: [
                        { youtube_id: 'UwH9lX4efdc', title: 'I Uncovered Minecraft\'s Oldest Mystery (Giant Alex)' }
                    ]
                }
            ]
        }



    </script>


    <!--templates-->
    <div id="li_template" style="display: none;">
        <li class="w3-bar" youtube-id="{youtube_id}">
            <div class="w3-col" style="width: 80px;">
                <img src="http://img.youtube.com/vi/{youtube_id}/1.jpg">
            </div>
            <div class="w3-col {class}" style="width: calc(100% - 110px);">
                {title}
            </div>
            <div class="w3-col" style="width: 20px">
                <span class="w3-button" action="remove_list_item">×</span>
            </div>
        </li>
    </div>


</body>

</html>